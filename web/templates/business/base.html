{% extends "layout.html" %}

{% block title %}æ¥­å‹™å“¡å·¥å…· - è³½åšæœ‹å…‹é¢¨æ ¼ - {{ super() }}{% endblock %}

{% block head %}
{{ super() }}
<!-- è³½åšæœ‹å…‹ä¸»é¡ŒCSS -->
<link rel="stylesheet" href="{{ url_for('static', filename='css/cyberpunk-theme.css') }}">
<!-- æ¥­å‹™å“¡å·¥å…·å°ˆç”¨CSS -->
<link rel="stylesheet" href="{{ url_for('static', filename='css/business-dashboard.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/business-interactive.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/cyberpunk-business.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/cyberpunk-enhanced.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/business-nav-enhancement.css') }}">
{% endblock %}

{% block content %}
<!-- æ¥­å‹™å“¡è³½åšæœ‹å…‹å°èˆªå¢å¼·å€åŸŸ -->
<div class="cyber-enhancement-panel">
    <div class="container-fluid">
        <div class="row">
            <div class="col-12">
                <div class="cyber-business-nav">
                    <a href="{{ url_for('business.index') }}" class="cyber-nav-item {% if request.endpoint == 'business.index' %}active{% endif %}">
                        <i class="fas fa-home"></i><span>ä¸»æ§å°</span>
                    </a>
                    <a href="{{ url_for('business.cyber_news') }}" class="cyber-nav-item {% if request.endpoint == 'business.cyber_news' %}active{% endif %}">
                        <i class="fas fa-newspaper"></i><span>æ–°èä¸­å¿ƒ</span>
                    </a>
                    <a href="{{ url_for('business.client_tool') }}" class="cyber-nav-item {% if request.endpoint == 'business.client_tool' %}active{% endif %}">
                        <i class="fas fa-users"></i><span>å®¢æˆ¶å·¥å…·</span>
                    </a>
                    <a href="{{ url_for('business.share_tools_page') }}" class="cyber-nav-item {% if request.endpoint == 'business.share_tools_page' %}active{% endif %}">
                        <i class="fas fa-share-alt"></i><span>åˆ†äº«å·¥å…·</span>
                    </a>
                    <a href="{{ url_for('business.favorites_page') }}" class="cyber-nav-item {% if request.endpoint == 'business.favorites_page' %}active{% endif %}">
                        <i class="fas fa-star"></i><span>æˆ‘çš„æœ€æ„›</span>
                    </a>
                    <a href="{{ url_for('business.preferences') }}" class="cyber-nav-item {% if request.endpoint == 'business.preferences' %}active{% endif %}">
                        <i class="fas fa-cog"></i><span>åå¥½è¨­å®š</span>
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ä¸»å…§å®¹å€ -->
<div class="container-fluid mt-3">
    {% block business_content %}{% endblock %}
</div>
{% endblock %}

{% block extra_js %}
{{ super() }}
<!-- è³½åšæœ‹å…‹æ•ˆæœJavaScript -->
<script src="{{ url_for('static', filename='js/cyberpunk-effects.js') }}"></script>
<script src="{{ url_for('static', filename='js/cyberpunk-business.js') }}"></script>
<script src="{{ url_for('static', filename='js/cyberpunk-enhanced.js') }}"></script>
<!-- æ¥­å‹™å“¡å·¥å…·å°ˆç”¨JavaScript -->
<script src="{{ url_for('static', filename='js/business-dashboard.js') }}"></script>
<script src="{{ url_for('static', filename='js/client-tools.js') }}"></script>

<script>
document.addEventListener('DOMContentLoaded', () => {
    console.log('ğŸ¤– å•Ÿå‹•è³½åšæœ‹å…‹æ¥­å‹™ç³»çµ±...');
    
    // åˆå§‹åŒ–è³½åšæœ‹å…‹æ•ˆæœ
    if (typeof CyberpunkEffects !== 'undefined') {
        window.cyberpunkEffects = new CyberpunkEffects();
    }
    
    // åˆå§‹åŒ–æ¥­å‹™ç³»çµ±
    if (typeof BusinessSystem !== 'undefined') {
        window.businessSystem = new BusinessSystem();
    }
    
    // æ¥­å‹™é é¢å°ˆç”¨ï¼šç¦ç”¨çˆ¬èŸ²æ§åˆ¶å°
    window.DISABLE_CRAWLER_CONSOLE = true;
    
    // ç¢ºä¿æ‰€æœ‰æŒ‰éˆ•éƒ½æœ‰éŸ¿æ‡‰
    setTimeout(() => {
        document.querySelectorAll('button:not([onclick]), .btn:not([onclick])').forEach((btn, index) => {
            if (!btn.href && btn.type !== 'submit') {
                const action = btn.textContent.trim() || `æŒ‰éˆ•${index + 1}`;
                btn.addEventListener('click', function() {
                    if (typeof cyberpunkUtils !== 'undefined') {
                        cyberpunkUtils.addClickEffect(this);
                        cyberpunkUtils.showNotification(`${action} åŠŸèƒ½å·²æ¿€æ´»`, 'info');
                    }
                });
            }
        });
    }, 500);
});
</script>
{% endblock %}
